# 简介

个人兴趣做的一个简单的京东电商网站demo，数据自己简单的mock了一点，用node搭建本地Server和后端api接口，以后有时间可能继续往下写，也可能不更了。

## 主要技术栈

html + css + js + jquery + express

## 项目运行

```
git clone https://github.com/cmdfas/jd-pc-demo.git
cd jd-pc-demo
yarn install 或 npm install

cd api && node server.js //先运行后端api接口
cd.. //返回上级目录
node app.js 
```

**在浏览中打开:**
- 首页 [http://localhost:7778](http://localhost:7778)
- 产品详情页 [http://localhost:7778/goods-detail.html?tid=34545354](http://localhost:7778/goods-detail.html?tid=34545354)
- 购物车页 [http://localhost:7778/shopping-cart.html](http://localhost:7778/shopping-cart.html)

- 登录页 [http://localhost:7778/login.html](http://localhost:7778/login.html)
- 用户信息页 [http://localhost:7778/userinfo.html](http://localhost:7778//userinfo.html)
- 用户地址选择页 [http://localhost:7778/address-select.html](http://localhost:7778/address-select.html)


## 总结

1.**首页**：主要封装了三个组件，导航组件、轮播图、产品列表组件，虽然没引用现成的库，可能会有些不完善，但自己写的对于这个demo也是够用了。  

- **导航组件 **：通过ajax获取导航数据，生成dom插入到页面中，添加鼠标划入显示，划出隐藏的交互效果。
- **轮播图组件** ： 通过ajax获取轮播图数据，动态生成dom渲染到页面，通过为左右按钮添加点击事件，控制元素的显示位置，同时为控制轮图具体第几个的小点添加添加点击事件，使其点击即可切换到对应的图片
- **产品列表组件** ：通过ajax想后端发送请求，获取产品数据，生成对应的html模板，插入到页面中。

2.**产品详情页**：主要封装了四个组件，产品图片展示组件，产品信息展示组件，加入购物车按钮组件，省市区地址选择组件。全部自己手写的，没有用现有的库。   
	
- **产品图片展示组件**：通过ajax获取图片数据，按照模板生成html插入到页面中，为展示小图的左右按钮添加点击事件，使其可以控制小图父容器左右滑动。为每个小图添加点击事件，使其可以切换对应的大图。为大图添加鼠标划入事件，显示放大镜遮罩层，并显示放大的容器。并添加鼠标滑动事件，根据鼠标的移动改变放大图片对应的left和top值，以此来改变图片的位置。
- **产品信息组件**：通过ajax获取产品信息数据，生成标题，简介对应的html插入到页面中。
- **加入购物车按钮组件**：分别为+、-号元素添加添加事件，点击的时候增加商品的数量值。
- **省市区地址选择组件**：通过ajax分别获取省、市、区的地址数据，并动态插入到页面中，当用户点击选择地址的时候，显示详细的地址选择框，分别有省、市、区三个选项可选，点击省地址时，将省的信息存入数组中，然后点击市的地址时，将市的地址push到数组中，然后选择区的时候，再把区的地址push到数组中，选择完成将数据中的数据生成dom渲染到页面中，当用户重新选择地址的时候，删除对应数组中的已选好的地址，即可重新选择地址。 

3.**购物车页面**：购物车组件，最复杂的一个东西。 

- **购物车组件**：ajax请求后端api得到数据，把商品生成对应dom插入到页面中，并把商品的价格，数量等属性用data-\*的方式写在html标签属性上，以备后用，同时也把总价、选择的商品数量也在页面中做更新。当用户用“加”、“减”、“输入框改数值”的方式改变商品的数量时，向后端api发送要更改的商品的数量和价格，后端返回给计算好的总价格，更新页面中对应dom元素。当点击每个商品的选择checkbox时，向后端api发送已选择的商品的总价格和数量重新进行计算，后端返回计算好的总价格和数量，将页面中对应的dom做更新。当点击删除对应的商品时，操作也同理。点击全选按钮，将所有产品全部选中。

4.登录页面、用户信息页、用户地址选择没有做JS的交互，仅为静态页面。
